<h1>{{title}}</h1>

<section class="events-section">
  {{!-- Search bar with filter dropdown --}}
  <form action="/events/search" method="GET" class="search-form">
    <input
      type="text"
      name="search"
      placeholder="Search events..."
      aria-label="Search events"
    />

    {{!-- Filter dropdown --}}
    <select name="filter" aria-label="Filter by">
      <option value="title">By Title</option>
      <option value="author">By Author</option>
    </select>
    <button type="submit">Search</button>
    <div class="alert">{{error}}</div>
  </form>

  <a class="newEventLink" id="newEventLink" href="/events/create"
    >Create New Event</a
  >

  {{#each data}}
  <article class="event-list-item">
    <a class="toEventDetails" href="/events/{{this._id}}">{{this.title}}</a>
    <p class="date-time">{{this.date_time}}</p>
    <p class="location">
      {{this.location.address}}, {{this.location.state}} {{this.location.zip}}
    </p>
    <p class="description">{{this.description}}</p>

    <form
      action="/events/{{this._id}}/comment"
      method="POST"
      id="comment-event-form"
    >
      <button type="submit">Comment on Event</button>
    </form>

    <form action="/events/{{this._id}}/join" method="POST" id="join-event-form">
      <button type="submit">Join Event</button>
    </form>
  </article>
  {{/each}}
</section>
